{"version":3,"sources":["reducers/index.ts","context.tsx","Slider.tsx","components/FileUploader/presentation.tsx","Convertor/ExpressiveColours.ts","Convertor/index.ts","components/FileUploader/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Types","imageReducer","state","action","type","Converted","after","payload","before","converting","file","Upload","initialState","AppContext","createContext","dispatch","AppProvider","children","React","useReducer","Provider","value","PUBLIC_URL","process","Slider","useContext","className","style","display","justifyContent","border","borderRadius","itemOne","src","itemTwo","onlyHandleDraggable","href","download","FileUploaderPresentationalComponent","props","dragging","onDrag","onDragStart","onDragEnd","onDragOver","onDragEnter","onDragLeave","onDrop","uploaderClasses","fileName","name","EXPRESSIVE_COLOURS","Uint8ClampedArray","getClosestColour","inputColour","closestDistance","Infinity","closestColour","expressiveColour","distance","convertImage","image","canvas","document","createElement","width","height","getContext","drawImage","imageData","getImageData","memo","Map","i","data","length","slice","get","join","set","putImageData","toDataURL","dragEventCounter","FileUploader","useState","setData","fileReader","FileReader","addEventListener","evt","target","result","toString","img","Image","output","readAsDataURL","overrideEventDefaults","event","preventDefault","stopPropagation","useEffect","window","removeEventListener","dataTransfer","items","files","split","alert","accept","onChange","textAlignLast","App","cite","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,KACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,KACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,IAAK,MACjC,IAAIA,kBAAkB,CAAC,IAAK,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","file":"static/js/main.35aee1e2.chunk.js","sourcesContent":["import { Reducer } from 'react';\n\ntype ActionMap<M extends { [index: string]: any }> = {\n  [Key in keyof M]: M[Key] extends undefined\n    ? { type: Key }\n    : { type: Key; payload: M[Key] };\n};\n\nexport enum Types {\n  Converted = 'CONVERT_DONE',\n  Upload = 'UPLOAD_PIC',\n}\n\ntype ImageType = {\n  file: Blob | null;\n  before: string;\n  after: string;\n  converting: boolean;\n};\n\ntype ImagePayload = {\n  [Types.Converted]: { after: string; converting: boolean };\n  [Types.Upload]: { file: Blob; before: string; converting: boolean };\n};\n\nexport type ImageActions =\n  ActionMap<ImagePayload>[keyof ActionMap<ImagePayload>];\n\nexport const imageReducer: Reducer<ImageType, ImageActions> = (\n  state: ImageType,\n  action: ImageActions\n) => {\n  switch (action.type) {\n    case Types.Converted:\n      return {\n        after: action.payload.after,\n        before: state.before,\n        converting: action.payload.converting,\n        file: state.file,\n      };\n    case Types.Upload:\n      return {\n        after: state.after,\n        before: action.payload.before,\n        converting: action.payload.converting,\n        file: action.payload.file,\n      };\n    default:\n      return state;\n  }\n};\n","import React, { createContext, Dispatch } from 'react';\nimport { imageReducer, ImageActions } from './reducers';\n\ntype InitialStateType = {\n  file: Blob | null;\n  before: string;\n  after: string;\n  converting: boolean;\n};\n\nconst initialState = { after: '', before: '', converting: false, file: null };\n\nconst AppContext = createContext<{\n  state: InitialStateType;\n  dispatch: Dispatch<ImageActions>;\n}>({ dispatch: () => null, state: initialState });\n\nconst AppProvider: React.FC = ({ children }) => {\n  const [state, dispatch] = React.useReducer(imageReducer, initialState);\n\n  return (\n    <AppContext.Provider value={{ dispatch, state }}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport { AppProvider, AppContext };\n","import React from 'react';\nimport { AppContext } from './context';\nimport {\n  ReactCompareSlider,\n  ReactCompareSliderImage,\n} from 'react-compare-slider';\n\nconst { PUBLIC_URL } = process.env;\n\nconst Slider = () => {\n  const { state } = React.useContext(AppContext);\n  const { before, after, converting } = state;\n\n  return converting ? (\n    <div className=\"loader\"></div>\n  ) : (\n    <>\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n        <label>Original</label>\n        <label>Converted</label>\n      </div>\n      <div style={{ border: 'solid rgb(34, 63, 125)', borderRadius: '5px' }}>\n        <ReactCompareSlider\n          itemOne={\n            <ReactCompareSliderImage\n              src={before || `${PUBLIC_URL}/test_hackathon.png`}\n            />\n          }\n          itemTwo={\n            <ReactCompareSliderImage\n              src={after || `${PUBLIC_URL}/result_hackathon.png`}\n            />\n          }\n          onlyHandleDraggable={true}\n        />\n      </div>\n      <div style={{ display: 'flex', justifyContent: 'flex-end' }}>\n        <a\n          href={after || `${PUBLIC_URL}/result_hackathon.png`}\n          download=\"indeed_converted\"\n        >\n          <button>Download</button>\n        </a>\n      </div>\n    </>\n  );\n};\n\nexport default Slider;\n","import React from 'react';\n\ntype PresentationalProps = {\n  dragging: boolean;\n  file: File | null;\n  onDrag: (event: React.DragEvent<HTMLDivElement>) => void;\n  onDragStart: (event: React.DragEvent<HTMLDivElement>) => void;\n  onDragEnd: (event: React.DragEvent<HTMLDivElement>) => void;\n  onDragOver: (event: React.DragEvent<HTMLDivElement>) => void;\n  onDragEnter: (event: React.DragEvent<HTMLDivElement>) => void;\n  onDragLeave: (event: React.DragEvent<HTMLDivElement>) => void;\n  onDrop: (event: React.DragEvent<HTMLDivElement>) => void;\n};\n\nexport const FileUploaderPresentationalComponent: React.FC<PresentationalProps> =\n  (props) => {\n    const {\n      dragging,\n      file,\n      onDrag,\n      onDragStart,\n      onDragEnd,\n      onDragOver,\n      onDragEnter,\n      onDragLeave,\n      onDrop,\n    } = props;\n\n    let uploaderClasses = 'file-uploader';\n    if (dragging) {\n      uploaderClasses += ' file-uploader--dragging';\n    }\n\n    const fileName = file?.name ?? 'Upload an image';\n    return (\n      <div\n        className={uploaderClasses}\n        onDrag={onDrag}\n        onDragStart={onDragStart}\n        onDragEnd={onDragEnd}\n        onDragOver={onDragOver}\n        onDragEnter={onDragEnter}\n        onDragLeave={onDragLeave}\n        onDrop={onDrop}\n      >\n        <div className=\"file-uploader__contents\">\n          <span className=\"file-uploader__file-name\">{fileName}</span>\n          <span>Drag & drop file</span>\n          <span>or</span>\n          {props.children}\n        </div>\n      </div>\n    );\n  };\n","/* eslint-disable no-magic-numbers */\n\nconst EXPRESSIVE_COLOURS = [\n  new Uint8ClampedArray([0, 0, 0]), // Black\n  new Uint8ClampedArray([0, 58, 155]),\n  new Uint8ClampedArray([22, 44, 91]),\n  new Uint8ClampedArray([26, 48, 63]),\n  new Uint8ClampedArray([31, 50, 45]),\n  new Uint8ClampedArray([31, 102, 44]),\n  new Uint8ClampedArray([33, 100, 243]), // Indeed Blue\n  new Uint8ClampedArray([34, 60, 146]), // Ocean\n  new Uint8ClampedArray([34, 63, 125]),\n  new Uint8ClampedArray([37, 87, 167]),\n  new Uint8ClampedArray([40, 69, 90]),\n  new Uint8ClampedArray([42, 32, 109]),\n  new Uint8ClampedArray([44, 71, 64]),\n  new Uint8ClampedArray([45, 45, 45]),\n  new Uint8ClampedArray([50, 86, 161]),\n  new Uint8ClampedArray([50, 94, 120]),\n  new Uint8ClampedArray([57, 97, 86]),\n  new Uint8ClampedArray([58, 44, 22]),\n  new Uint8ClampedArray([61, 48, 149]),\n  new Uint8ClampedArray([64, 124, 159]),\n  new Uint8ClampedArray([64, 150, 248]), // Sky\n  new Uint8ClampedArray([66, 40, 24]),\n  new Uint8ClampedArray([66, 66, 66]),\n  new Uint8ClampedArray([73, 31, 53]),\n  new Uint8ClampedArray([74, 128, 114]),\n  new Uint8ClampedArray([76, 114, 204]),\n  new Uint8ClampedArray([81, 62, 33]),\n  new Uint8ClampedArray([83, 69, 184]),\n  new Uint8ClampedArray([89, 89, 89]),\n  new Uint8ClampedArray([90, 156, 196]),\n  new Uint8ClampedArray([92, 57, 37]),\n  new Uint8ClampedArray([99, 161, 144]),\n  new Uint8ClampedArray([102, 102, 102]), // Dark Gray\n  new Uint8ClampedArray([107, 41, 77]),\n  new Uint8ClampedArray([110, 84, 44]),\n  new Uint8ClampedArray([112, 145, 233]),\n  new Uint8ClampedArray([113, 98, 223]),\n  new Uint8ClampedArray([118, 118, 118]),\n  new Uint8ClampedArray([128, 74, 39]),\n  new Uint8ClampedArray([136, 185, 219]),\n  new Uint8ClampedArray([139, 190, 175]),\n  new Uint8ClampedArray([144, 136, 231]),\n  new Uint8ClampedArray([144, 144, 144]), // Mid Gray\n  new Uint8ClampedArray([145, 52, 105]),\n  new Uint8ClampedArray([146, 112, 56]),\n  new Uint8ClampedArray([148, 148, 148]),\n  new Uint8ClampedArray([157, 143, 107]),\n  new Uint8ClampedArray([159, 176, 235]),\n  new Uint8ClampedArray([169, 37, 43]),\n  new Uint8ClampedArray([169, 100, 55]),\n  new Uint8ClampedArray([176, 171, 239]),\n  new Uint8ClampedArray([180, 178, 177]),\n  new Uint8ClampedArray([184, 76, 135]),\n  new Uint8ClampedArray([184, 140, 71]),\n  new Uint8ClampedArray([188, 214, 236]),\n  new Uint8ClampedArray([191, 217, 208]),\n  new Uint8ClampedArray([196, 68, 136]), // Plum\n  new Uint8ClampedArray([201, 210, 243]),\n  new Uint8ClampedArray([204, 204, 204]), // Light Gray\n  new Uint8ClampedArray([209, 125, 71]),\n  new Uint8ClampedArray([209, 206, 243]),\n  new Uint8ClampedArray([210, 229, 247]),\n  new Uint8ClampedArray([210, 231, 225]),\n  new Uint8ClampedArray([212, 210, 208]),\n  new Uint8ClampedArray([216, 111, 166]),\n  new Uint8ClampedArray([216, 171, 108]),\n  new Uint8ClampedArray([220, 226, 251]),\n  new Uint8ClampedArray([226, 157, 190]),\n  new Uint8ClampedArray([226, 223, 251]),\n  new Uint8ClampedArray([228, 226, 224]),\n  new Uint8ClampedArray([231, 162, 127]),\n  new Uint8ClampedArray([233, 244, 241]),\n  new Uint8ClampedArray([234, 243, 251]),\n  new Uint8ClampedArray([236, 201, 216]),\n  new Uint8ClampedArray([238, 205, 163]),\n  new Uint8ClampedArray([239, 241, 253]),\n  new Uint8ClampedArray([240, 202, 187]),\n  new Uint8ClampedArray([242, 241, 253]),\n  new Uint8ClampedArray([243, 153, 117]), // Coral\n  new Uint8ClampedArray([243, 242, 241]),\n  new Uint8ClampedArray([244, 179, 14]), // Goldenrod\n  new Uint8ClampedArray([244, 219, 231]),\n  new Uint8ClampedArray([244, 222, 212]),\n  new Uint8ClampedArray([244, 223, 200]),\n  new Uint8ClampedArray([246, 250, 254]),\n  new Uint8ClampedArray([246, 251, 249]),\n  new Uint8ClampedArray([248, 249, 254]),\n  new Uint8ClampedArray([249, 249, 254]),\n  new Uint8ClampedArray([250, 238, 244]),\n  new Uint8ClampedArray([250, 239, 236]),\n  new Uint8ClampedArray([250, 240, 231]),\n  new Uint8ClampedArray([250, 249, 248]),\n  new Uint8ClampedArray([252, 248, 250]),\n  new Uint8ClampedArray([253, 248, 244]),\n  new Uint8ClampedArray([253, 248, 247]),\n  new Uint8ClampedArray([255, 102, 0]), // Indeed Orange\n  new Uint8ClampedArray([255, 255, 255]), // White\n];\n\nexport default EXPRESSIVE_COLOURS;\n","import EXPRESSIVE_COLOURS from './ExpressiveColours';\n\nconst DATA_SIZE = 4;\nconst MAX_VALUE = 255;\nconst ALPHA = 3;\n\ntype Colour = Uint8ClampedArray;\n\nconst convertImage = (image: HTMLImageElement): string => {\n  const canvas = document.createElement('canvas');\n  canvas.width = image.width;\n  canvas.height = image.height;\n  canvas.getContext('2d')?.drawImage(image, 0, 0);\n  const imageData = canvas\n    .getContext('2d')\n    ?.getImageData(0, 0, canvas.width, canvas.height);\n  if (!imageData) return '';\n\n  const memo = new Map<string, Colour>();\n\n  for (let i = 0; i < imageData.data.length; i += DATA_SIZE) {\n    const inputColour = imageData.data.slice(i, i + DATA_SIZE);\n\n    let closestColour = memo.get(inputColour.join(','));\n\n    if (!closestColour) {\n      closestColour = getClosestColour(inputColour);\n      memo.set(inputColour.join(','), closestColour);\n    }\n    [\n      imageData.data[i],\n      imageData.data[i + 1],\n      imageData.data[i + 2],\n      imageData.data[i + 3], // eslint-disable-line no-magic-numbers\n    ] = closestColour;\n  }\n\n  canvas.getContext('2d')?.putImageData(imageData, 0, 0);\n  return canvas.toDataURL('image/jpg');\n};\n\nfunction getClosestColour(inputColour: Colour): Colour {\n  let closestDistance = Infinity;\n  let closestColour = new Uint8ClampedArray([0, 0, 0, MAX_VALUE]);\n\n  for (const expressiveColour of EXPRESSIVE_COLOURS) {\n    const distance =\n      (expressiveColour[0] - inputColour[0]) ** 2 +\n      (expressiveColour[1] - inputColour[1]) ** 2 +\n      (expressiveColour[2] - inputColour[2]) ** 2;\n\n    if (distance < closestDistance) {\n      closestDistance = distance;\n      closestColour = expressiveColour;\n    }\n\n    if (closestDistance === 0)\n      return new Uint8ClampedArray([...closestColour, inputColour[ALPHA]]);\n  }\n\n  return new Uint8ClampedArray([...closestColour, inputColour[ALPHA]]);\n}\nexport default convertImage;\n","import React, { useEffect } from 'react';\nimport { FileUploaderPresentationalComponent } from './presentation';\nimport { AppContext } from '../../context';\nimport { Types } from '../../reducers';\nimport convertImage from '../../Convertor';\n\ntype State = { dragging: boolean; file: File | null };\n\nlet dragEventCounter = 0;\nexport const FileUploader = () => {\n  const { dispatch } = React.useContext(AppContext);\n  const initialState: State = { dragging: false, file: null };\n\n  const [data, setData] = React.useState(initialState);\n\n  const process = (file: Blob) => {\n    const fileReader = new FileReader();\n    fileReader.addEventListener('loadend', (evt) => {\n      if (evt.target?.result) {\n        dispatch({\n          payload: {\n            before: evt.target.result.toString(),\n            converting: true,\n            file,\n          },\n          type: Types.Upload,\n        });\n        const img = new Image();\n        img.addEventListener('load', () => {\n          const output = convertImage(img);\n          dispatch({\n            payload: { after: output, converting: false },\n            type: Types.Converted,\n          });\n        });\n        img.src = evt.target.result.toString();\n      }\n    });\n    fileReader.readAsDataURL(file);\n  };\n  const dragenterListener = (event: React.DragEvent<HTMLDivElement>) => {\n    overrideEventDefaults(event);\n    dragEventCounter += 1;\n    if (event.dataTransfer.items && event.dataTransfer.items[0])\n      setData({ ...data, dragging: true });\n  };\n\n  const dragleaveListener = (event: React.DragEvent<HTMLDivElement>) => {\n    overrideEventDefaults(event);\n    dragEventCounter -= 1;\n\n    if (dragEventCounter <= 0) setData({ ...data, dragging: false });\n  };\n\n  const dropListener = (event: React.DragEvent<HTMLDivElement>) => {\n    overrideEventDefaults(event);\n    dragEventCounter = 0;\n    setData({ ...data, dragging: false });\n\n    if (event.dataTransfer.files && event.dataTransfer.files[0]) {\n      if (event.dataTransfer.items[0].type.split('/')[0] === 'image') {\n        setData({ ...data, file: event.dataTransfer.files[0] });\n        process(event.dataTransfer.files[0]);\n      } else alert('Please upload an image.');\n    }\n  };\n\n  const overrideEventDefaults = (\n    event: Event | React.DragEvent<HTMLDivElement>\n  ) => {\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  const onFileChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files && event.target.files[0]) {\n      setData({ ...data, file: event.target.files[0] });\n      process(event.target.files[0]);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('dragover', (event: Event) => {\n      overrideEventDefaults(event);\n    });\n    window.addEventListener('drop', (event: Event) => {\n      overrideEventDefaults(event);\n    });\n    return () => {\n      window.removeEventListener('dragover', overrideEventDefaults);\n      window.removeEventListener('drop', overrideEventDefaults);\n    };\n  });\n\n  return (\n    <FileUploaderPresentationalComponent\n      dragging={data.dragging}\n      file={data.file}\n      onDrag={overrideEventDefaults}\n      onDragEnd={overrideEventDefaults}\n      onDragEnter={dragenterListener}\n      onDragLeave={dragleaveListener}\n      onDragOver={overrideEventDefaults}\n      onDragStart={overrideEventDefaults}\n      onDrop={dropListener}\n    >\n      <input\n        accept=\"image/*\"\n        className=\"file-uploader__input\"\n        onChange={onFileChanged}\n        style={{ textAlignLast: 'center' }}\n        type=\"file\"\n      />\n    </FileUploaderPresentationalComponent>\n  );\n};\n","import './App.css';\nimport { AppProvider } from 'context';\nimport Slider from './Slider';\nimport { FileUploader } from 'components/FileUploader';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <AppProvider>\n        <h1>Indeed Image Convertor</h1>\n        <figure>\n          <blockquote cite=\"https://indeed.design/brand/color\">\n            <p>\n              Our colors reflect the many ways we showcase our brand. A rich\n              range of tones and contrast lets us build for accessibility and\n              tell a distinctive brand story.\n            </p>\n          </blockquote>\n          <figcaption>\n            —\n            <cite>\n              <a href=\"https://indeed.design/brand/color\"> Indeed Design</a>\n            </cite>\n          </figcaption>\n        </figure>\n        <FileUploader />\n        <div className=\"pictureBox\">\n          <Slider />\n        </div>\n        <footer>\n          <p>\n            Processing is done by your browser. Uploaded images never leave your\n            device.\n          </p>\n          <p>\n            Created for Indeed Summer Hackathon 2021 by aogilvie, chung, cyang,\n            mstemm.\n          </p>\n        </footer>\n      </AppProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}