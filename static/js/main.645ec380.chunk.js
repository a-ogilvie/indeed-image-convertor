(this["webpackJsonpindeed-image-convertor"]=this["webpackJsonpindeed-image-convertor"]||[]).push([[0],{15:function(e,n,a){},16:function(e,n,a){},18:function(e,n,a){"use strict";a.r(n);var r,t=a(0),i=a.n(t),d=a(9),l=a.n(d),o=(a(15),a(16),a(3));!function(e){e.Upload="UPLOAD_PIC",e.Converted="CONVERT_DONE"}(r||(r={}));var c=function(e,n){switch(n.type){case r.Upload:return{file:n.payload.file,before:n.payload.before,after:e.after,converting:n.payload.converting};case r.Converted:return{file:e.file,before:e.before,after:n.payload.after,converting:n.payload.converting};default:return e}},s=a(1),p={file:null,before:"",after:"",converting:!1},m=Object(t.createContext)({state:p,dispatch:function(){return null}}),y=function(e){var n=e.children,a=i.a.useReducer(c,p),r=Object(o.a)(a,2),t=r[0],d=r[1];return Object(s.jsx)(m.Provider,{value:{state:t,dispatch:d},children:n})},g=a(6),w="/indeed-image-convertor",C=function(){var e=i.a.useContext(m).state,n=e.before,a=e.after;return e.converting?Object(s.jsx)("div",{className:"loader"}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(s.jsx)("label",{children:"Original"}),Object(s.jsx)("label",{children:"Converted"})]}),Object(s.jsx)(g.a,{itemOne:Object(s.jsx)(g.b,{src:n||"".concat(w,"/test_hackathon.png")}),itemTwo:Object(s.jsx)(g.b,{src:a||"".concat(w,"/result_hackathon.png")}),onlyHandleDraggable:!0})]})},f=a(2),U=function(e){var n,a=e.dragging,r=e.file,t=e.onDrag,i=e.onDragStart,d=e.onDragEnd,l=e.onDragOver,o=e.onDragEnter,c=e.onDragLeave,p=e.onDrop,m="file-uploader";a&&(m+=" file-uploader--dragging");var y=null!==(n=null===r||void 0===r?void 0:r.name)&&void 0!==n?n:"Upload an image";return Object(s.jsx)("div",{className:m,onDrag:t,onDragStart:i,onDragEnd:d,onDragOver:l,onDragEnter:o,onDragLeave:c,onDrop:p,children:Object(s.jsxs)("div",{className:"file-uploader__contents",children:[Object(s.jsx)("span",{className:"file-uploader__file-name",children:y}),Object(s.jsx)("span",{children:"Drag & drop file"}),Object(s.jsx)("span",{children:"or"}),e.children]})})},u=a(8),A=a(10),j=[new Uint8ClampedArray([22,44,91]),new Uint8ClampedArray([26,48,63]),new Uint8ClampedArray([31,50,45]),new Uint8ClampedArray([34,63,125]),new Uint8ClampedArray([40,69,90]),new Uint8ClampedArray([42,32,109]),new Uint8ClampedArray([44,71,64]),new Uint8ClampedArray([45,45,45]),new Uint8ClampedArray([50,86,161]),new Uint8ClampedArray([50,94,120]),new Uint8ClampedArray([57,97,86]),new Uint8ClampedArray([58,44,22]),new Uint8ClampedArray([61,48,149]),new Uint8ClampedArray([64,124,159]),new Uint8ClampedArray([66,40,24]),new Uint8ClampedArray([66,66,66]),new Uint8ClampedArray([73,31,53]),new Uint8ClampedArray([74,128,114]),new Uint8ClampedArray([76,114,204]),new Uint8ClampedArray([81,62,33]),new Uint8ClampedArray([83,69,184]),new Uint8ClampedArray([89,89,89]),new Uint8ClampedArray([90,156,196]),new Uint8ClampedArray([92,57,37]),new Uint8ClampedArray([99,161,144]),new Uint8ClampedArray([107,41,77]),new Uint8ClampedArray([110,84,44]),new Uint8ClampedArray([112,145,233]),new Uint8ClampedArray([113,98,223]),new Uint8ClampedArray([118,118,118]),new Uint8ClampedArray([128,74,39]),new Uint8ClampedArray([136,185,219]),new Uint8ClampedArray([139,190,175]),new Uint8ClampedArray([144,136,231]),new Uint8ClampedArray([145,52,105]),new Uint8ClampedArray([146,112,56]),new Uint8ClampedArray([148,148,148]),new Uint8ClampedArray([159,176,235]),new Uint8ClampedArray([169,100,55]),new Uint8ClampedArray([176,171,239]),new Uint8ClampedArray([180,178,177]),new Uint8ClampedArray([184,76,135]),new Uint8ClampedArray([184,140,71]),new Uint8ClampedArray([188,214,236]),new Uint8ClampedArray([191,217,208]),new Uint8ClampedArray([201,210,243]),new Uint8ClampedArray([209,125,71]),new Uint8ClampedArray([209,206,243]),new Uint8ClampedArray([210,229,247]),new Uint8ClampedArray([210,231,225]),new Uint8ClampedArray([212,210,208]),new Uint8ClampedArray([216,111,166]),new Uint8ClampedArray([216,171,108]),new Uint8ClampedArray([220,226,251]),new Uint8ClampedArray([226,157,190]),new Uint8ClampedArray([226,223,251]),new Uint8ClampedArray([228,226,224]),new Uint8ClampedArray([231,162,127]),new Uint8ClampedArray([233,244,241]),new Uint8ClampedArray([234,243,251]),new Uint8ClampedArray([236,201,216]),new Uint8ClampedArray([238,205,163]),new Uint8ClampedArray([239,241,253]),new Uint8ClampedArray([240,202,187]),new Uint8ClampedArray([242,241,253]),new Uint8ClampedArray([243,242,241]),new Uint8ClampedArray([244,219,231]),new Uint8ClampedArray([244,222,212]),new Uint8ClampedArray([244,223,200]),new Uint8ClampedArray([246,250,254]),new Uint8ClampedArray([246,251,249]),new Uint8ClampedArray([248,249,254]),new Uint8ClampedArray([249,249,254]),new Uint8ClampedArray([250,238,244]),new Uint8ClampedArray([250,239,236]),new Uint8ClampedArray([250,240,231]),new Uint8ClampedArray([250,249,248]),new Uint8ClampedArray([252,248,250]),new Uint8ClampedArray([253,248,244]),new Uint8ClampedArray([253,248,247]),new Uint8ClampedArray([255,255,255])];function v(e){var n,a=1/0,r=new Uint8ClampedArray([0,0,0,255]),t=Object(A.a)(j);try{for(t.s();!(n=t.n()).done;){var i=n.value,d=Math.pow(i[0]-e[0],2)+Math.pow(i[1]-e[1],2)+Math.pow(i[2]-e[2],2);if(d<a&&(a=d,r=i),0===a)return new Uint8ClampedArray([].concat(Object(u.a)(r),[e[3]]))}}catch(l){t.e(l)}finally{t.f()}return new Uint8ClampedArray([].concat(Object(u.a)(r),[e[3]]))}var b=function(e){var n,a,r,t=document.createElement("canvas");t.width=e.width,t.height=e.height,null===(n=t.getContext("2d"))||void 0===n||n.drawImage(e,0,0);var i=null===(a=t.getContext("2d"))||void 0===a?void 0:a.getImageData(0,0,t.width,t.height);if(!i)return"";for(var d=new Map,l=0;l<i.data.length;l+=4){var c=i.data.slice(l,l+4),s=d.get(c.join(","));s||(s=v(c),d.set(c.join(","),s));var p=s,m=Object(o.a)(p,4);i.data[l]=m[0],i.data[l+1]=m[1],i.data[l+2]=m[2],i.data[l+3]=m[3]}return null===(r=t.getContext("2d"))||void 0===r||r.putImageData(i,0,0),t.toDataURL("image/jpg")},h=0,O=function(){var e=i.a.useContext(m).dispatch,n=i.a.useState({dragging:!1,file:null}),a=Object(o.a)(n,2),d=a[0],l=a[1],c=function(n){var a=new FileReader;a.addEventListener("loadend",(function(a){var t;if(null===(t=a.target)||void 0===t?void 0:t.result){e({type:r.Upload,payload:{file:n,before:a.target.result.toString(),converting:!0}});var i=new Image;i.addEventListener("load",(function(){var n=b(i);e({type:r.Converted,payload:{after:n,converting:!1}})})),i.src=a.target.result.toString()}})),a.readAsDataURL(n)},p=function(e){e.preventDefault(),e.stopPropagation()};return Object(t.useEffect)((function(){return window.addEventListener("dragover",(function(e){p(e)})),window.addEventListener("drop",(function(e){p(e)})),function(){window.removeEventListener("dragover",p),window.removeEventListener("drop",p)}})),Object(s.jsx)(U,{dragging:d.dragging,file:d.file,onDrag:p,onDragStart:p,onDragEnd:p,onDragOver:p,onDragEnter:function(e){p(e),h++,(e.dataTransfer.items&&e.dataTransfer.items[0]||e.dataTransfer.types&&"Files"===e.dataTransfer.types[0])&&l(Object(f.a)(Object(f.a)({},d),{},{dragging:!0}))},onDragLeave:function(e){p(e),--h<=0&&l(Object(f.a)(Object(f.a)({},d),{},{dragging:!1}))},onDrop:function(e){p(e),h=0,l(Object(f.a)(Object(f.a)({},d),{},{dragging:!1})),e.dataTransfer.files&&e.dataTransfer.files[0]&&("image"===e.dataTransfer.items[0].type.split("/")[0]?(l(Object(f.a)(Object(f.a)({},d),{},{file:e.dataTransfer.files[0]})),c(e.dataTransfer.files[0])):alert("Please upload an image."))},children:Object(s.jsx)("input",{type:"file",className:"file-uploader__input",onChange:function(e){e.target.files&&e.target.files[0]&&(l(Object(f.a)(Object(f.a)({},d),{},{file:e.target.files[0]})),c(e.target.files[0]))},accept:"image/*",style:{textAlignLast:"center"}})})};var x=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(y,{children:[Object(s.jsx)("h1",{children:"Indeed Image Convertor"}),Object(s.jsxs)("figure",{children:[Object(s.jsx)("blockquote",{cite:"https://indeed.design/brand/color",children:Object(s.jsx)("p",{children:"Our colors reflect the many ways we showcase our brand. A rich range of tones and contrast lets us build for accessibility and tell a distinctive brand story."})}),Object(s.jsxs)("figcaption",{children:["\u2014",Object(s.jsx)("cite",{children:Object(s.jsx)("a",{href:"https://indeed.design/brand/color",children:" Indeed Design"})})]})]}),Object(s.jsx)(O,{}),Object(s.jsx)("div",{className:"pictureBox",children:Object(s.jsx)(C,{})}),Object(s.jsxs)("footer",{children:[Object(s.jsx)("p",{children:"Processing is done by your browser. Uploaded images never leave your device."}),Object(s.jsx)("p",{children:"Created for Indeed Summer Hackathon 2021 by aogilvie, chung, cyang, mstemm."})]})]})})},D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,19)).then((function(n){var a=n.getCLS,r=n.getFID,t=n.getFCP,i=n.getLCP,d=n.getTTFB;a(e),r(e),t(e),i(e),d(e)}))};l.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(x,{})}),document.getElementById("root")),D()}},[[18,1,2]]]);
//# sourceMappingURL=main.645ec380.chunk.js.map